<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JDFTx: wannier</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="jdftx-55.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">JDFTx
   &#160;<span id="projectnumber">1.7.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('CommandWannier.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">wannier </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md369"></a>
Syntax:</h2>
<pre class="fragment">wannier &lt;key1&gt; &lt;args1...&gt;  &lt;key2&gt; &lt;args2...&gt;  ...
</pre><p> <b>Note:</b> only available in calculations using the 'wannier' executable. </p>
<h2><a class="anchor" id="autotoc_md370"></a>
Description:</h2>
<p>Control calculation and output of maximally-localized <a class="el" href="classWannier.html" title="Compute Maximally-Localized Wannier Functions.">Wannier</a> functions <a class="el" href="citelist.html#CITEREF_MLWF">[20]</a>. The possible &lt;key&gt;'s and their corresponding arguments are:</p>
<ul>
<li><p class="startli">localizationMeasure FiniteDifference | RealSpace</p>
<p class="startli">Controls how the localization of the Wannier functions is calculated. The finite-difference reciprocal space measure of Marzari and Vanderbilt (default) is inexpensive, but its error scales as Nkpoints^(-2./3). The real space version is slower but its error scales as exp(-Nkpoints^(1/3)), and is preferable for quantitative applications. Note that the real-space version is not translationally invariant and wraps on a superlattice Wigner-Seitz cell centered at the origin.</p>
</li>
<li><p class="startli">precondition yes|no</p>
<p class="startli">Whether to use an inverse-Hemholtz preconditioner for the minimization. Affects only the FiniteDifference localizationMeasure. (default: no)</p>
</li>
<li><p class="startli">bStart &lt;band&gt;</p>
<p class="startli">For fixed band calculations, 0-based index of lowest band used. The number of bands equals the number of wannier-centers specified. Default: 0. Use in insulator calculations to ignore semi-core orbitals.</p>
</li>
<li><p class="startli">outerWindow &lt;eMin&gt; &lt;eMax&gt;</p>
<p class="startli">Energy window within which bands contribute to wannier functions <a class="el" href="citelist.html#CITEREF_MLWFmetal">[28]</a>. bStart is ignored if outerWindow is specified.</p>
</li>
<li><p class="startli">innerWindow &lt;eMin&gt; &lt;eMax&gt;</p>
<p class="startli">Inner energy window within which bands are used exactly <a class="el" href="citelist.html#CITEREF_MLWFmetal">[28]</a>. Requires outerWindow, and innerWindow must be its subset.</p>
</li>
<li><p class="startli">frozenCenters &lt;nFrozen&gt; &lt;filename&gt;</p>
<p class="startli">Include frozen Wannier centers imported as unitary rotations from &lt;filename&gt; (.mlwfU output from another wannier run on the same jdftx state), and force the current centers to be orthogonal to the imported ones. Note that all output of this run will include the frozen as well as new centers for convenience.</p>
<p class="startli">Requires innerWindow if outerWindow is present, and the frozen centers must lie entirely within the inner window or fixed band range. (Effectively, the outer window used in generating the frozen centers must be a subset of the present inner window / fixed band range.)</p>
</li>
<li><p class="startli">saveWfns yes|no</p>
<p class="startli">Whether to write supercell wavefunctions in a spherical reciprocal-space basis. Default: no.</p>
</li>
<li><p class="startli">saveWfnsRealSpace yes|no</p>
<p class="startli">Whether to write supercell wavefunctions band-by-band in real space (can be enormous). Default: no.</p>
</li>
<li><p class="startli">saveMomenta yes|no</p>
<p class="startli">Whether to write momentum matrix elements in the same format as Hamiltonian. The output is real and antisymmetric (drops the iota so as to half the output size). Default: no.</p>
</li>
<li><p class="startli">saveSpin yes|no</p>
<p class="startli">Whether to write spin matrix elements (for non-collinear calculations only). Default: no.</p>
</li>
<li><p class="startli">saveZ &lt;Vfilename&gt; &lt;Emag&gt;</p>
<p class="startli">If specified, output matrix elements of z for perturbative electric field in post processing. &lt;Vfilename&gt; is Vscloc output from a calculation with an applied electric field, and it should be in the <a class="el" href="CommandDumpName.html">dump-name</a> format contain $VAR (as in command <a class="el" href="CommandFixElectronPotential.html">fix-electron-potential</a>). &lt;Emag&gt; is the magnitude of the difference in electric field (in Eh/a0) between that calculation and the present case. This combination is used to compute the matrix element accounting for static local field effects due to the response of the system to the electric field. Alternately, specify &lt;Vfilename&gt;=Ramp and &lt;Emag&gt;=0 to use a ramp potential (no local field). Default: no.</p>
</li>
<li><p class="startli">slabWeight &lt;z0&gt; &lt;zH&gt; &lt;zSigma&gt;</p>
<p class="startli">If specified, output the <a class="el" href="classWannier.html" title="Compute Maximally-Localized Wannier Functions.">Wannier</a> matrix elements of a slab weight function centered at z0 (lattice coordinates) with half-width zH (lattice coordinates) and Gaussian/erfc smoothness zSigma in bohrs. (Default: none)</p>
</li>
<li><p class="startli">loadRotations yes|no</p>
<p class="startli">Whether to load rotations (.mlwU) from a previous Wannier run. Default: no.</p>
</li>
<li><p class="startli">eigsOverride &lt;filename&gt;</p>
<p class="startli">Optionally read an alternate eigenvalues file to over-ride those from the total energy calculation. Useful for generating <a class="el" href="classWannier.html" title="Compute Maximally-Localized Wannier Functions.">Wannier</a> Hamiltonians using eigenvalues from another DFT or a many-body perturbation theory code.</p>
</li>
<li><p class="startli">numericalOrbitals &lt;filename&gt;</p>
<p class="startli">Load numerical orbitals from &lt;filename&gt; with basis described in &lt;filename&gt;.header that can then be used as trial orbitals. The reciprocal space wavefunction output of wannier is precisely in this format, so that supercell Wannier calculations can be initialized from previously calculated bulk / unit cell Wannier functions.</p>
</li>
<li><p class="startli">numericalOrbitalsOffset &lt;x0&gt; &lt;x1&gt; &lt;x2&gt;</p>
<p class="startli">Origin of the numerical orbitals in lattice coordinates of the input. The default [ .5 .5 .5 ] (cell center) is appropriate for output from wannier.</p>
</li>
<li><p class="startli">phononSupercell &lt;N0&gt; &lt;N1&gt; &lt;N2&gt;</p>
<p class="startli">If specified, wannier will read in output (phononHsub and phononBasis) of the phonon code with this supercell and output Wannierized electron-phonon matrix elements (mlwfHePh). This file will contain matrices for pairs of cells in the order specified in the mlwfCellMapSqPh output file, with an outer loop over the nuclear displacement modes in phononBasis.</p>
</li>
<li><p class="startli">rSmooth &lt;rSmooth&gt;</p>
<p class="startli">Width in bohrs of the supercell boundary region over which matrix elements are smoothed. If phononSupercell is specified to process phonon quantities, the rSmooth specified here must exactly match the value specified in the calculation in command phonon.</p>
</li>
<li><p class="startli">spinModeAll|Dn|Up</p>
<p class="startli">If Up or Dn, only generate <a class="el" href="classWannier.html" title="Compute Maximally-Localized Wannier Functions.">Wannier</a> functions for that spin channel, allowing different input files for each channel (independent centers, windows etc.). Default: All, generate for all spin channels (only valid option for <a class="el" href="CommandSpintype.html">spintype</a> != z-spin).</p>
</li>
<li><p class="startli">polarno|yes</p>
<p class="startli">Whether to include polar contribution subtractions in electron-phonon matrix elements. Requires files 'totalE.Zeff' containing Born effective charges and 'totalE.epsInf' containing optical dielectric tensor computed externally. Default: false.</p>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md371"></a>
Properties:</h2>
<p><b>Requires:</b> &#160;&#160;&#160; <a class="el" href="CommandCoulombInteraction.html">coulomb-interaction</a> &#160;&#160;&#160; <a class="el" href="CommandSpintype.html">spintype</a></p>
<p><b>Forbids:</b> &#160;&#160;&#160; (None)</p>
<p><b>Allow multiple:</b>&#160;&#160;&#160; no</p>
<p><b>Default:</b> &#160;&#160;&#160; (None)</p>
<p>Back to: <a class="el" href="Commands.html">Input file documentation</a> or <a class="el" href="CommandIndex.html">Index of commands</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
